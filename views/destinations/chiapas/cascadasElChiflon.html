<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/public/style.css" />

    <!-- Google Font Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- SweetAlert2 -->
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Font Awesome Icon Library -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <section>
      <header class="headerProfile">
        <article>
          <article>
            <img id="back" class="miniImg" src="/img/back.png" />
            <article class="title">CENTRO ECOTURISTICO CASCADAS EL CHIFLON</article>
            <img class="imgDestination" src="/img/destinations/cascadasElChiflon.png" />
          </article>
        </article>
      </header>
    </section>

    <section>
      <main>
        <article class="subtitle">Descripci&oacute;n</article>

        <p class="longText">
          Cadena de cascadas que forman las corrientes del rio San Vicente en la abrupta 
          topografía del territorio del municipio de Tzimol, donde se originan entre otras 
          las cascadas de “El Suspiro”, “Ala de Ángel”, “Arco Iris”, “Quinceañera” y la 
          principal “Velo de Novia” de 120 m. de altura, mismas que al caer forman albercas 
          naturales de aguas de intenso color azul, aunado a la basta vegetación que forman 
          una serie de paisajes que pueden ser apreciados mediante el recorrido por el sendero 
          en forma ascendente de más de 1000 metros de longitud.
        </p>

        <article class="subtitle">Calificar destino</article>
        <article>
          <input
            class="swal2-confirm swalBtnColor swal2-styled search"
            type="button"
            id="calificarCascadasElChiflon"
            value="Calificar"
          />
        </article>
      </main>
    </section>

    <section>
      <main>
        <article class="title">CALIFICACIONES</article>
        <div id="result"></div>
      </main>
    </section>

    <!-- Scripts -->

    <script>
      document.getElementById("back").addEventListener("click", () => {
        window.location.href = "/views/search.html";
      });
    </script>

    <script>
      // ALERT CALIFICAR CascadasElChiflon
      document
        .getElementById("calificarCascadasElChiflon")
        .addEventListener("click", () => {
          Swal.fire({
            customClass: {
              confirmButton: "swalBtnColor",
              title: "swalTitle",
              validationMessage: "validationColor",
            },
            title: "CALIFICACI&Oacute;N",
            background: "#fff",
            html: `
            <form>
                <div class="rating">
                    <input type="radio" hidden name="rate" id="rating-opt5" data-idx="0" />
                    <label for="rating-opt5"><span>Excelente</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt4" data-idx="1" />
                    <label for="rating-opt4"><span>Muy Bueno</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt3" data-idx="2" />
                    <label for="rating-opt3"><span>Bueno</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt2" data-idx="3" />
                    <label for="rating-opt2"><span>Regular</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt1" data-idx="4" />
                    <label for="rating-opt1"><span>Malo</span></label>
                </div>
            </form>
            `,
            confirmButtonText: "Enviar Calificacion",
            focusConfirm: false,
            preConfirm: () => {
              let opc1 = document.getElementById("rating-opt1");
              let opc2 = document.getElementById("rating-opt2");
              let opc3 = document.getElementById("rating-opt3");
              let opc4 = document.getElementById("rating-opt4");
              let opc5 = document.getElementById("rating-opt5");

              let result = document.getElementById("result");

              if (opc1.checked) {
                localStorage.votoCascadasElChiflon = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐</b></p>
                </article>
                `;
              } else if (opc2.checked) {
                localStorage.votoCascadasElChiflon = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐</b></p>
                </article>
                `;
              } else if (opc3.checked) {
                localStorage.votoCascadasElChiflon = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐⭐</b></p>
                </article>
                `;
              } else if (opc4.checked) {
                localStorage.votoCascadasElChiflon = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐⭐⭐</b></p>

                </article>
                `;
              } else if (opc5.checked) {
                localStorage.votoCascadasElChiflon = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐⭐⭐⭐</b></p>
                </article>
                `;
              }
            },
          });
        });

      if (localStorage.votoCascadasElChiflon == undefined) {
        result.innerHTML = "";
      } else {
        result.innerHTML += localStorage.votoCascadasElChiflon;
      }
    </script>
  </body>
</html>