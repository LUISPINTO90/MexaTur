<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/public/style.css" />

    <!-- Google Font Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- SweetAlert2 -->
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Font Awesome Icon Library -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <section>
      <header class="headerProfile">
        <article>
          <article>
            <img id="back" class="miniImg" src="/img/back.png" />
            <article class="title">PLAZA DE LAS TRES CULTURAS</article>
            <img class="imgDestination" src="/img/destinations/plazaTresCulturas.png" />
          </article>
        </article>
      </header>
    </section>

    <section>
      <main>
        <article class="subtitle">Descripci&oacute;n</article>

        <p class="longText">
          En el centro de Ciudad de México hay un lugar, quizá el único del continente americano, 
          donde es posible tomar una foto en la que aparezcan edificios auténticos de tres 
          civilizaciones diferentes: la precolombina, la colonial y la moderna. La Plaza de las 
          Tres Culturas alberga pirámides y ruinas de la prehispánica Tenochtitlán y un convento 
          de la época colonial, y además está rodeada por modernas edificaciones.
        </p>

        <article class="subtitle">Calificar destino</article>
        <article>
          <input
            class="swal2-confirm swalBtnColor swal2-styled search"
            type="button"
            id="calificarPlazaTresCulturas"
            value="Calificar"
          />
        </article>
      </main>
    </section>

    <section>
      <main>
        <article class="title">CALIFICACIONES</article>
        <div id="result"></div>
      </main>
    </section>

    <!-- Scripts -->

    <script>
      document.getElementById("back").addEventListener("click", () => {
        window.location.href = "/views/search.html";
      });
    </script>

    <script>
      // ALERT CALIFICAR COMALA
      document
        .getElementById("calificarPlazaTresCulturas")
        .addEventListener("click", () => {
          Swal.fire({
            customClass: {
              confirmButton: "swalBtnColor",
              title: "swalTitle",
              validationMessage: "validationColor",
            },
            title: "CALIFICACI&Oacute;N",
            background: "#fff",
            html: `
            <form>
                <div class="rating">
                    <input type="radio" hidden name="rate" id="rating-opt5" data-idx="0" />
                    <label for="rating-opt5"><span>Excelente</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt4" data-idx="1" />
                    <label for="rating-opt4"><span>Muy Bueno</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt3" data-idx="2" />
                    <label for="rating-opt3"><span>Bueno</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt2" data-idx="3" />
                    <label for="rating-opt2"><span>Regular</span></label>

                    <input type="radio" hidden name="rate" id="rating-opt1" data-idx="4" />
                    <label for="rating-opt1"><span>Malo</span></label>
                </div>
            </form>
            `,
            confirmButtonText: "Enviar Calificacion",
            focusConfirm: false,
            preConfirm: () => {
              let opc1 = document.getElementById("rating-opt1");
              let opc2 = document.getElementById("rating-opt2");
              let opc3 = document.getElementById("rating-opt3");
              let opc4 = document.getElementById("rating-opt4");
              let opc5 = document.getElementById("rating-opt5");

              let result = document.getElementById("result");

              if (opc1.checked) {
                localStorage.votoPlazaTresCulturas = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐</b></p>
                </article>
                `;
              } else if (opc2.checked) {
                localStorage.votoPlazaTresCulturas = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐</b></p>
                </article>
                `;
              } else if (opc3.checked) {
                localStorage.votoPlazaTresCulturas = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐⭐</b></p>
                </article>
                `;
              } else if (opc4.checked) {
                localStorage.votoPlazaTresCulturas = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐⭐⭐</b></p>

                </article>
                `;
              } else if (opc5.checked) {
                localStorage.votoPlazaTresCulturas = result.innerHTML += `
                <article>
                    <img class="userImg" src="/img/user.png" />
                    <article id="userNameProfile" class="subtitle"></article>
                    <p>${localStorage.usuario} ha calificado con <b>⭐⭐⭐⭐⭐</b></p>
                </article>
                `;
              }
            },
          });
        });

      if (localStorage.votoPlazaTresCulturas== undefined) {
        result.innerHTML = "";
      } else {
        result.innerHTML += localStorage.votoPlazaTresCulturas;
      }
    </script>
  </body>
</html>
